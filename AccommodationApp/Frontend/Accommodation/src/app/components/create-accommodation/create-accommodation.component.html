<app-sidebar></app-sidebar>
<div class="main-content">
<div id="main-div">
    <div class="delete-button">
    <h1>AirBnB Your Accommodation</h1>
    <button ng-show="user.role=='host'" class="button-delete" (click)="deleteAccAsHost()">Delete account</button>
    </div>
    <label for="name">Name</label>
    <input [(ngModel)]='accommDto.name' id="name" class="input-regular" type="text" >

    <label>Address</label>
    <input [(ngModel)]='accommDto.address!.street'  type="text" placeholder="Street" class="input-regular"/>
    <input [(ngModel)]='accommDto.address!.number' type="number" placeholder="No." class="input-regular"  id="street-no" />
    <input [(ngModel)]='accommDto.address!.city' type="text" placeholder="City" class="input-regular"/>
    <input [(ngModel)]='accommDto.address!.country' type="text" placeholder="Country" class="input-regular"/>

    <label id="offers-label">What does your accommodation offer?</label>
    <ng-multiselect-dropdown [placeholder]="'Select'" [settings]="dropdownSettings" [data]="dropdownList" [(ngModel)]="selectedItems"></ng-multiselect-dropdown>

    
    <label>Min. number of guests</label>
    <input type="number" class='input-regular' [(ngModel)]="accommDto.minGuests"/>
        
    <label>Max. number of guests</label>
    <input type="number" class='input-regular' [(ngModel)]="accommDto.maxGuests"/>

    <p [ngStyle]="{'color':'red', 'font-size':'20px'}" [style.visibility]="guestNumError? 'visible' : 'hidden'">Maximum number of guests cannot be lower than minimum number of guests</p>

    <label>Add photos</label>
    <input type="file" accept="image/png, image/jpeg" multiple (change)="selectImages($event)">

    <br />
    <div id="auto-approve-div">
        <input type="checkbox"  [(ngModel)]="accommDto.autoApprove"/><span id="auto-approve-span">Auto approve reservation requests</span>
    </div>
    
    <label>Price</label>
    <input type="number" [(ngModel)]="accommDto.price"/>
    <p [ngStyle]="{'color':'red', 'font-size':'20px'}" *ngIf="priceError" >Price must be greater than zero</p>

    <br/>
    <br/>
    
    <div id="price-method" >
    <form>
    <input type="radio"  name="price" id="perGuest" value="guest"   [(ngModel)]="answer" /><span  id="price-method-label" for="perGuest">Price per guest</span>&nbsp;&nbsp;&nbsp;&nbsp;
    <input type="radio"  name="price" id="perAccommodation" value="accomm" [(ngModel)]="answer" /><span id="price-method-label" for="perAccommodation">Price per accommodation</span>
   </form>
    </div>
    <br/>
    <br/>

    <input type="checkbox" [(ngModel)]="accommDto.weekendCost" value=true/><span>Include weekends price increase </span>
    <br/>
    <br/>
    <input type="checkbox" [(ngModel)]="accommDto.holidayCost" value=true/><span>Include holidays price increase </span>
    <br/>
    <br/>
    <input type="checkbox" [(ngModel)]="accommDto.summerCost" value=true/><span>Include summer price increase </span>
    <br/>
    <br/>

    <label>Start season</label>
    <input type="date" [(ngModel)]="accommDto.startSeason" format="yyyy-MM-dd" value=Date.now()>
    <label>End season</label>
    <input type="date" [(ngModel)]="accommDto.endSeason" format="yyyy-MM-dd">



    <button class="button-regular" (click)="postAccommodation()">Post</button>
     
    
</div>
</div>
